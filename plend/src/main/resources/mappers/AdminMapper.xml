<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="three.people.mapper.adminMapper">
	
	<select id="userList" parameterType="SearchVO" resultType="UserVO">
		SELECT u.*(
			SELECT uidx,
				   id,
				   password,
				   name,
				   nickname,
				   birth,
				   userphone,
				   email,
				   gender,
				   addr,
				   regnum,
				   role,
				   delyn
			  FROM user
			 WHERE role = 2
			 <if test='searchType != null and searchType.equals("name")'>
			   AND name like CONCAT('%',#{searchValue},'%')
			 </if>
			 <if test='searchType != null and searchType.equals("id")'>
			   AND id like CONCAT('%',#{searchValue},'%')
			 </if>) u  
		 LIMIT #{start}, #{cntPerPage}
	</select>
	<!-- 
	<update id="userInfo" parameterType="UserVO"></update>
	<select id="reportList" resultType="ReportVO"></select> 
	<update id="reviewBlind" parameterType="ReviewVO"></update>
	<update id="approvalYN" parameterType="PlaceVO"></update>
	<select id="BlockUser" resultType="BlockVO"></select>
	<update id="eventYN" parameterType="PlaceVO"></update> -->
	
</mapper>



